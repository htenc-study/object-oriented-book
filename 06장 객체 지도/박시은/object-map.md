# 객체 지도

## 구조 중심의 설계
- 기능이 아니라 **구조를 기반으로 모델을 구축하는 편이** 범용적이고 이해하기 쉬우며 변경에 안정적이다.
- 설계가 어려운 이유는 어제 약속했던 기능을 제공하면서도 내일 변경될지도 모르는 요구사항을 수용할 수 있는 코드를 지금 만들어야 하기 때문이다.
- **좋은 설계란** 나중에라도 변경될 수 있는 여지를 남겨 놓는 설계다.

---

## 설계의 목적
- 나중에 설계하는 것을 허용하는 것
- 변경에 소요되는 비용을 낮추는 것
---

## 객체 지도(Object Map)

- 객체 지도는 빠르게 변화하는 기능을 수용할 수 있는 자리를 제공한다.
- 객체 지도를 기반으로 한 설계는 안정적이고 재사용 가능하며 범용적이다.

---

## 기능과 구조

### 구조

- 구조는 사용자가 이해관계자들이 도메인에 관해 생각하는 **개념** 개념과 개념 간의 **관계**를 표현한다.
- 구조를 표현하는 대표적인 방법이 **도메인 모델링**이다.

### 기능

- 기능은 사용자의 목표를 만족시키기 위해 시스템이 수행해야 하는 **행위**
- 기능을 표현하는 대표적인 방법이 **유스케이스 모델링**이다.

---

## 도메인 모델

### 도메인

- 사용자가 프로그램을 사용하는 대상 분야

### 모델

- 대상을 추상화한 단순한 형태

### 도메인 모델

- 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
- 소프트웨어 개발자와 이해관계자들이 도메인에 대해 생각하는 관점
- 이해관계자가 바라보는 **멘탈 모델**
---

## 멘탈 모델

- 사람들이 자기 자신, 다른 사람, 환경, 자신이 상호작용하는 사물들에 대해 가지고 있는 모형

### 멘탈 모델의 종류

- 사용자 모델  
  -> 사용자가 제품에 대해 가지고 있는 개념
- 디자인 모델  
  -> 설계자가 마음속에 가진 시스템에 대한 개념
- 시스템 이미지  
  -> 최종 제품이 외부에 드러내는 모습

---

## 객체지향과 멘탈 모델의 정렬

- 객체지향을 이용하면 사용자 모델, 디자인 모델, 시스템 이미지 이 세 가지가 **유사한 모습을 유지**하도록 만들 수 있다.
- 이는 표현적 차이를 줄이고 개념적 일관성을 높인다.

---

## 표현적 차이
- 소프트 웨어 객체와 현실 객체의 의미적 거리
- 소프트웨어 객체와 현실 객체 사이의 의미적 거리 은유를 통해 현실 객체와 소프트웨어 객체 사이의 차이를 최대한 줄이는 것
- 은유해야 할 대상은 **도메인 모델**이다.

---

## 유스케이스

- 유스케이스는 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이루어지는 상호작용의 흐름을 **텍스트**로 정리한 것이다.

### 일차 액터

- 시스템의 서비스 중 하나를 요청하는 이해관계자
- 하나의 목표를 가지고 유스케이스를 시작하는 주체
- 시스템과 연동하는 외부 시스템도 액터가 될 수 있다.

---

## 유스케이스의 특성

- 유스케이스는
  여러 시나리오의 집합이다.
  → **유스케이스 인스턴스**
- 인터페이스와 관련된 세부 정보만 포함해야 한다.
- 내부 설계와 관련된 정보는 포함하지 않는다.

---

## 책임 주도 설계

- 유스케이스는 첫 번째 메시지이며 사용자가 달성하려는 목표다.
- 도메인 모델은 기능을 담을 수 있는 안정적인 구조다.

---

## 도메인 모델 기반 객체 구조 설계 이유

- 도메인 모델을 구성하는 개념은 비즈니스가 사라지거나 완전히 개편되지 않는 한 안정적으로 유지된다. 예) 정기예금, 계좌, 이자율, 이자
- 도메인 모델을 구성하는 **개념 간 관계**는 비즈니스 규칙을 기반으로 하기 때문에 정책이 크게 변하지 않는 한 안정적으로 유지된다. 예) 계좌와 이자의 관계
---

## 연결 완전성

- 도메인 모델링에서 사용한 객체와 개념을 프로그래밍 설계에서도 객체와 클래스로 자연스럽게 변환할 수 있다.

---

## 가역성

- 코드의 변경으로부터 도메인 모델의 변경 사항을 유추할 수 있다.

