# 02장 이상한 나라의 객체

## 상태
> 상태를 결정하는 것은 행동이지만 행동의 결과를 결정하는 것은 상태다
```
ex) 앨리스가 음료수를 20ml 마시는 행동
- 상태를 결정하는 것은 행동: 
음료수가 줄어들어 음료수 객체의 상태가 결정된다.

- 행동의 결과를 결정하는 것은 상태다: 
현재 음료수의 상태가 200ml였기 때문에, 행동의 결과는 180ml가 된다.
```
```
ex) 사용자에게 인스펙터 역할을 부여하는 행동
- 상태를 결정하는 것은 행동:
사용자의 역할(Role)에 인스펙터가 추가된다.

- 행동의 결과를 결정하는 것은 상태: 
이전에 인스펙터가 없었기 때문에, 행동의 결과로 인스펙터 테이블에 사용자의 정보가 추가된다.
```
---
> 객체란 식별 가능한 개체 또는 사물이다.
- 따라서 객체에겐 식별자가 존재해야한다.

> 어떤 행동의 결과는 과거에 어떤 행동들이 일어났었느냐에 의존

```
- (검사원이) 신청서를 확인하는 행동은 (벤더가) 신청서를 신청한 행동에 의존한다.
(외부의 행동이 아닌, 현재 객체의 과거 행동에 대한 의존성을 의미하는 것)
```

> 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현한다. <br>
객체의 상태는 객체에 존재하는 정적인 프로퍼티와 동적인 프로퍼티 값으로 구성된다.<br> 
객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다.

프로퍼티와 프로퍼티의 값
```
Inspector 객체에서 
프로퍼티: 
 - 단순 값: 관리번호, 사용자 타입 등등
 - 링크: IsrUser객체

프로퍼티의 값: 2, IsrUser{"정지영", "BIZ", ...}, "BIZ"  등등
```

## 식별자
> 식별자란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티다.

```
-> 실제론 주소값?으로 표현하고 있는 것인가?

식별자는 객체의 동일성을 보장하는 개념이며,
구현에 따라 메모리 주소, 참조, @Id 등의 형태로 표현될 수 있다.
주소값은 식별자 그 자체가 아니라 구현 중 하나다.
```

## 캡슐화
> 객체는 스스로의 행동에 의해서만 상태가 변경되는 것을 보장함으로써 객체의 자율성을 유지한다.

> 객체가 외부에 노출하는 것은 행동뿐이며, 외부에서 객체에 접근할 수 있는 유일한 방법 역시 행동 뿐이다.

외부의 객체가 직접 객체의 상태를 변경할 수 없고, 간접적으로만 변경할 수 있다.

```
ex) 인스펙터를 수정하기 위해서는

인스펙터 객체 내부에 선언된 updateProfile(String inspectorName, String email, String tel, ...)을 이용하여 간접적으로 변경할 수 있다.
```

## 동등성과 동일성

### 동등성 
- 값이 같다
- 상태가 같다  
- 식별자가 없다.
> 값은 오직 상태만을 이용해 동등성을 판단하기 때문에 인스턴스를 구별하기 위한 별도의 식별자를 필요로 하지 않는다.

> 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야한다.


### 동일성
- 객체
- 상태가 달라도 같은 객체일 수 있음
- 식별자를 가진다.

> 식별자를 기반으로 객체가 같은지를 판단할 수 있는 성질

> 객체는 상태가 변경되는 가변상태를 가지기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다

```
class User {
    String name;

    User(String name){
        this.name = name;
    }
}

User jiyoung1 = new User("지영");
User jiyoung2 = jiyoung1;

User jiyoung3 = new User("지영");

jiyoun1의 name, jiyoung2의 name, jiyoung3의 세 name값은 동등하다.

jiyoung1과 jiyoung2는 동일하다.

jiyoung1과 jiyoung3은 동일하지 않다.
```
